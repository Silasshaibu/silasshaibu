<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Graphics | Portfolio</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="3dPorfolio-header">
        <h3>GRAPHICS PORTFOLIO 2D</h3>
    </header>
    <div class="grid" id="projectGrid">
        <!-- Your grid items will be added dynamically here -->
    </div>

    <!-- LightBox section -->
    <div id="myModal" class="modal-featureProjectDetails">
        <div class="leftSection">
            <div class="contentDisplayArea">
                <div id="modalImages" class="content">
                    <!-- Images will be added here -->
                </div>

                <div class="extraFeature">
                    <span class='DownloadButton'>
                        Download
                    </span>
                    <span class='ViewFullScreen'>
                        View Full Screen
                    </span>
                </div>

                <span class="leftArrowController">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
                    </svg>
                </span>

                <span class="rightArrowController">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" />
                    </svg>
                </span>
            </div>
        </div>
        <aside class="rightSection">
            <div class="authorInfo">
                <div class="authorImage"></div>
                <div class="authorSocials">
                    <h4>Silas S.</h4>
                    <p>Graphics Designer</p>
                    <p class="projectNumber">0147591659</p>
                </div>
            </div>
            <div class="authorInfo socials">
                <button onclick="HireMe()">Hire Me</button>
                <button>Inbox Me</button>
            </div>
            <div class="authorInfo advertSales">
                <p>From the Swade_Studio MarketPlace</p>
                <div class="advert">
                    <img src="" width="100%" alt="advert">
                </div>
            </div>
            <div class="authorInfo aboutProject"></div>
            <span onclick="closeModal()" class="closeButton">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </span>
        </aside>
    </div>

    <style>
        .authorSocials p {
            font-size: 0.9rem;
        }

        .authorImage {
            background-image: url(./MY-PROFILE--Sharp.jpg);
            background-size: contain;
        }

        /* Style for the modal images */
        #modalImages {
            max-height: 90vh; /* Set a maximum height for the modal content */
            overflow-y: auto; /* Enable vertical scrolling if content overflows */
        }

         #modalImages img {
            width: 100%;
            height: auto;
            object-fit: contain;
            margin-bottom: 10px;
        }
    </style>

    <script>
        let currentProjectIndex = 0;

        const modal = document.getElementById('myModal');
        const modalImages = document.getElementById('modalImages');
        const leftArrow = modal.querySelector('.leftArrowController');
        const rightArrow = modal.querySelector('.rightArrowController');


        // Define your projects here
        const project1 = {
            name: 'NightlyTree',
            thumbnailImageUrl: './treeNight.jpg',
            images: ['./treeNight.jpg', './treeNight.jpg', './treeNight.jpg'],
            advertImage: './treeNight.jpg',
            id: '1147591657',
            description: `<li>Diffuse Map Available</li><li>Displacement Map Available</li>`
        };

        const project2 = {
            name: 'characterGirl',
            thumbnailImageUrl: './characterGirl.jpg',
            images: ['./characterGirl.jpg', './characterGirl.jpg', './characterGirl.jpg'],
            advertImage: './characterGirl.jpg',
            id: '1147591658',
            description: `<li>Rendered with Arnold</li><li>1K Resolution</li><li>Diffuse Map Available</li><li>Displacement Map Available</li>`
        };

        const project3 = {
            name: 'webpage',
            thumbnailImageUrl: './website.jpg',
            images: ['./website.jpg', './website.jpg', './website.jpg'],
            advertImage: './website.jpg',
            id: '1147591659',
            description: `<li>Rendered with Arnold</li><li>2K Resolution</li><li>Displacement Map Available</li><li>Normal Map Available</li>`
        };

        // Pack all the projects in one array
        const allProjects = [project1, project2, project3];

        // Function to load projects into grid items
        function loadProjectsIntoGrid() {
            const projectGrid = document.getElementById('projectGrid');

            allProjects.forEach((project, index) => {
                const gridItem = document.createElement('div');
                gridItem.className = 'grid-item';

                const thumbnailImage = document.createElement('img');
                thumbnailImage.src = project.thumbnailImageUrl;
                thumbnailImage.alt = project.name;

                gridItem.appendChild(thumbnailImage);
                projectGrid.appendChild(gridItem);

                // Add a click event listener to open the modal when this project is clicked
                gridItem.addEventListener('click', () => {
                    openModal(project, index);
                });
            });
        }

        // Call the function when the page is loaded
        window.addEventListener('load', loadProjectsIntoGrid);

        function closeModal() {
            modal.style.display = "none";
        }

        function HireMe() {
            // Redirect to google.com
            window.open('https://www.fiverr.com/silasshaibu', "_blank");
        }

        // Function to open the modal and populate it with project data
        function openModal(project, index) {
            modalImages.innerHTML = ""; // Clear previous images

            for (let i = 0; i < project.images.length; i++) {
                const imageContainer = document.createElement('div'); // Create a div container for the image
                imageContainer.className = 'image-container';

                const image = document.createElement('img');
                image.src = project.images[i];
                image.alt = project.name;

                const innerDiv = document.createElement('div'); // Create a div for buttons
                innerDiv.className = 'inner-div';

                const downloadButton = document.createElement('span'); // Create the Download button
                downloadButton.className = 'DownloadButton';
                downloadButton.textContent = 'Download';

                const viewFullScreenButton = document.createElement('span'); // Create the ViewFullScreen button
                viewFullScreenButton.className = 'ViewFullScreen';
                viewFullScreenButton.textContent = 'Full Screen';

                innerDiv.appendChild(downloadButton); // Add Download button to inner div
                innerDiv.appendChild(viewFullScreenButton); // Add ViewFullScreen button to inner div

                // Add image, inner div with buttons, and image container to modalImages div
                imageContainer.appendChild(image); // Add the image to the container
                imageContainer.appendChild(innerDiv); // Add the inner div with buttons to the container
                modalImages.appendChild(imageContainer); // Add the container to the modalImages div
            }


            // Set the project name
            const projectID = modal.querySelector('.projectNumber');
            projectID.textContent = project.id;

            // Set the project description
            const projectDescription = modal.querySelector('.authorInfo.aboutProject');
            projectDescription.innerHTML = project.description;

            // Display the modal
            modal.style.display = 'flex';
            currentProjectIndex = index;

                // Get the Download and View Full Screen buttons
            const downloadButton = modal.querySelector('.DownloadButton');
            const viewFullScreenButton = modal.querySelector('.ViewFullScreen');

            // Add click event listener for Download button
            downloadButton.addEventListener('click', () => {
                const currentImage = modalImages.querySelector('img');
                if (currentImage) {
                    const imageSrc = currentImage.getAttribute('src');
                    // Create an anchor element to trigger the download
                    const downloadLink = document.createElement('a');
                    downloadLink.href = imageSrc;
                    downloadLink.download = 'image.jpg'; // Set the desired download filename
                    downloadLink.click();
                }
            });

            // Add click event listener for View Full Screen button
            viewFullScreenButton.addEventListener('click', () => {
                const currentImage = modalImages.querySelector('img');
                if (currentImage) {
                    const imageSrc = currentImage.getAttribute('src');
                    // Open a new window/tab with the image
                    const newWindow = window.open(imageSrc, '_blank', 'fullscreen=yes');
                    if (newWindow) {
                        newWindow.document.body.style.margin = '0';
                        newWindow.document.body.style.overflow = 'hidden';
                    }
                }
            });
        }

        // Function to navigate to the next project
        function goToNextProject() {
            currentProjectIndex = (currentProjectIndex + 1) % allProjects.length;
            openModal(allProjects[currentProjectIndex], currentProjectIndex);
        }

        // Function to navigate to the previous project
        function goToPreviousProject() {
            currentProjectIndex = (currentProjectIndex - 1 + allProjects.length) % allProjects.length;
            openModal(allProjects[currentProjectIndex], currentProjectIndex);
        }

        leftArrow.addEventListener('click', goToPreviousProject);
        rightArrow.addEventListener('click', goToNextProject);
    </script>
</body>
</html>
